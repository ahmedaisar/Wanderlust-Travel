[{"F:\\KIITProject\\src\\index.js":"1","F:\\KIITProject\\src\\reportWebVitals.js":"2","F:\\KIITProject\\src\\RoutePack.js":"3","F:\\KIITProject\\src\\Auth.js":"4","F:\\KIITProject\\src\\Component\\Homepage\\Homepage.js":"5","F:\\KIITProject\\src\\Component\\Register\\Register.js":"6","F:\\KIITProject\\src\\Component\\Login\\Login.js":"7","F:\\KIITProject\\src\\Component\\Dashboard\\Dashboard.js":"8","F:\\KIITProject\\src\\firebase.js":"9","F:\\KIITProject\\src\\SHA256.js":"10","F:\\KIITProject\\src\\Component\\HotelModal\\HotelModal.js":"11","F:\\KIITProject\\src\\Component\\HotelCard\\HotelCard.js":"12","F:\\KIITProject\\src\\Component\\BookingsModal\\BookingsModal.js":"13"},{"size":585,"mtime":1611736277629,"results":"14","hashOfConfig":"15"},{"size":375,"mtime":1611736277629,"results":"16","hashOfConfig":"15"},{"size":779,"mtime":1611736277626,"results":"17","hashOfConfig":"15"},{"size":457,"mtime":1611736277552,"results":"18","hashOfConfig":"15"},{"size":867,"mtime":1611737837583,"results":"19","hashOfConfig":"15"},{"size":3702,"mtime":1611736277620,"results":"20","hashOfConfig":"15"},{"size":2588,"mtime":1611754873823,"results":"21","hashOfConfig":"15"},{"size":4278,"mtime":1611756853993,"results":"22","hashOfConfig":"15"},{"size":560,"mtime":1611737578164,"results":"23","hashOfConfig":"15"},{"size":5056,"mtime":1611736277626,"results":"24","hashOfConfig":"15"},{"size":14491,"mtime":1611757495880,"results":"25","hashOfConfig":"15"},{"size":1518,"mtime":1611736277586,"results":"26","hashOfConfig":"15"},{"size":3042,"mtime":1611757871427,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1177rje",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"F:\\KIITProject\\src\\index.js",[],["56","57"],"F:\\KIITProject\\src\\reportWebVitals.js",[],"F:\\KIITProject\\src\\RoutePack.js",[],"F:\\KIITProject\\src\\Auth.js",[],"F:\\KIITProject\\src\\Component\\Homepage\\Homepage.js",[],"F:\\KIITProject\\src\\Component\\Register\\Register.js",[],"F:\\KIITProject\\src\\Component\\Login\\Login.js",[],"F:\\KIITProject\\src\\Component\\Dashboard\\Dashboard.js",["58"],"import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport Styles from \"./Dashboard.module.css\";\r\nimport { Spinner, Button } from \"react-bootstrap\";\r\nimport fire from \"../../firebase.js\";\r\nimport SHA256 from \"../../SHA256\";\r\nimport { AuthContext } from \"../../Auth\";\r\nimport HotelCard from \"../HotelCard/HotelCard.js\";\r\nimport BookingsModal from \"../BookingsModal/BookingsModal\";\r\nimport logo from \"./logo.png\";\r\n\r\nconst Dashboard = () => {\r\n  const { currentUser } = useContext(AuthContext);\r\n  const [loading, setLoading] = useState(true);\r\n  const [loggedOut, setLoggedOut] = useState(false);\r\n  const [hotels, setHotels] = useState([]);\r\n  const [searchedHotels, setSearchedHotels] = useState([]);\r\n  const [searchedCity, setSearchedCity] = useState();\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleShow = () => setShow(true);\r\n\r\n  const API_KEY = process.env.REACT_APP_API_KEY;\r\n  const API_SECRET = process.env.REACT_APP_SECRET_KEY;\r\n  let timestamp = Math.floor(Date.now() / 1000);\r\n  const X_SIGNATURE = SHA256(`${API_KEY}${API_SECRET}${timestamp}`);\r\n\r\n  useEffect(() => {\r\n    let hotels_url =\r\n      \"https://cors-anywhere.herokuapp.com/api.test.hotelbeds.com/hotel-content-api/1.0/hotels?fields=all&countryCode=IN&language=ENG&from=1&to=1000\";\r\n    console.log(\"Fetching Hotels....\");\r\n\r\n    fetch(hotels_url, {\r\n      headers: {\r\n        \"Api-key\": API_KEY,\r\n        \"X-Signature\": X_SIGNATURE,\r\n      },\r\n    })\r\n      .then((resp) => resp.json())\r\n      .then((data) => {\r\n        setHotels(data.hotels);\r\n        console.log(\"Completed\");\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    if (window.confirm(\"Are you sure you want to Logout?\")) {\r\n      fire\r\n        .auth()\r\n        .signOut()\r\n        .then(() => {\r\n          setLoggedOut(true);\r\n        });\r\n    }\r\n  };\r\n  const searchHotels = (e) => {\r\n    e.preventDefault();\r\n    let searchInput = document.querySelector(\"#searchInput\").value;\r\n    const results = hotels.filter(\r\n      (item) => item.city.content === searchInput.toUpperCase()\r\n    );\r\n    setSearchedHotels(results);\r\n    setSearchedCity(searchInput);\r\n  };\r\n\r\n  if (loggedOut) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Spinner animation=\"grow\" style={{ margin: \"47vh 48vw\" }} />\r\n      ) : (\r\n        <>\r\n          <section className={Styles.searchNav}>\r\n            <div className={Styles.nav}>\r\n              <div className={Styles.logoWrapper}>\r\n                <img src={logo} alt=\"logo\" height=\"50\" width=\"50\" />\r\n                <span>\r\n                  <b>Wanderlust</b>\r\n                </span>\r\n              </div>\r\n              <div className={Styles.buttons}>\r\n                <span>\r\n                  <b onClick={handleShow}>My Bookings</b>\r\n                </span>\r\n                <span onClick={() => handleLogout()}>\r\n                  <b>Logout</b>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className={Styles.welcomeMessage}>\r\n              <h1>Welcome {currentUser.displayName.split(\" \")[0]}</h1>\r\n            </div>\r\n            <div className={Styles.searchBox}>\r\n              <form onSubmit={(e) => searchHotels(e)}>\r\n                <input\r\n                  id=\"searchInput\"\r\n                  placeholder=\"Enter the city...\"\r\n                  size=\"50\"\r\n                  className={Styles.searchInput}\r\n                />\r\n                <Button\r\n                  variant=\"primary\"\r\n                  className={Styles.searchBtn}\r\n                  type=\"submit\"\r\n                >\r\n                  Search\r\n                </Button>\r\n              </form>\r\n            </div>\r\n          </section>\r\n          <section className={Styles.hotelsList}>\r\n            {searchedHotels.length > 0\r\n              ? searchedHotels\r\n                  .filter((item) => item.images)\r\n                  .map((item) => (\r\n                    <HotelCard data={item} searchedCity={searchedCity} />\r\n                  ))\r\n              : null}\r\n          </section>\r\n          {show ? <BookingsModal show={show} setShow={setShow} /> : null}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","F:\\KIITProject\\src\\firebase.js",[],"F:\\KIITProject\\src\\SHA256.js",[],"F:\\KIITProject\\src\\Component\\HotelModal\\HotelModal.js",[],"F:\\KIITProject\\src\\Component\\HotelCard\\HotelCard.js",[],"F:\\KIITProject\\src\\Component\\BookingsModal\\BookingsModal.js",[],{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","severity":1,"message":"64","line":45,"column":6,"nodeType":"65","endLine":45,"endColumn":8,"suggestions":"66"},"no-native-reassign",["67"],"no-negated-in-lhs",["68"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'API_KEY' and 'X_SIGNATURE'. Either include them or remove the dependency array.","ArrayExpression",["69"],"no-global-assign","no-unsafe-negation",{"desc":"70","fix":"71"},"Update the dependencies array to be: [API_KEY, X_SIGNATURE]",{"range":"72","text":"73"},[1670,1672],"[API_KEY, X_SIGNATURE]"]